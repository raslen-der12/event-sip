/* =========================================
   HEADER (FULL REPLACEMENT)
   ========================================= */

:root{
  --brand:#243A66;
  --brand-2:#EB5434;
  --mega-width: 980px;
}

/* Sticky header wrapper */
.header{
  position: sticky;
  top: 0;
  z-index: 1400;
  overflow-x: clip;
}

/* ---------- Top utility bar ---------- */
.topbar{
  background: linear-gradient(90deg, rgba(30, 41, 62, 0.9), rgba(18, 27, 53, 0.9));
  color: #fff;
  border-bottom: 1px solid rgba(255, 255, 255, .08);
  font-size: 14px;
}
.header .topbar .row,
.header .nav .row{
  margin-left: 0 !important;
  margin-right: 0 !important;
}
.left{ width: max-content; }
.social{ width: max-content; }

.topbar .row{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:.5rem 0; flex-wrap:nowrap;
}
.topbar .left{
  display:flex; align-items:center; gap:18px; min-width:0;
}
.topbar .left .item{
  display:flex; align-items:center; gap:8px; white-space:nowrap; opacity:.9;
}
.topbar .icon{
  width:16px; height:16px; display:inline-grid; place-items:center; color:#bfc7dd;
}
.topbar .social{
  display:flex; align-items:center; gap:6px; margin-left:auto; white-space:nowrap;
}
.topbar .social a{
  width:28px; height:28px; display:inline-grid; place-items:center;
  border:1px solid rgba(255,255,255,.25); border-radius:999px; color:#fff;
}
.topbar .social a:hover{ border-color:#fff; }

/* ---------- Main nav bar ---------- */
.nav{
  height:72px;
  background: rgba(14,18,35,.65);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08);
  transition: box-shadow 160ms cubic-bezier(.2,.8,.2,1), background 160ms cubic-bezier(.2,.8,.2,1);
}
.nav.elevated{
  box-shadow:0 .8rem 2rem rgba(0,0,0,.12);
  background: rgba(14,18,35,.9);
}

/* brand */
.brand{
  color:#fff; font-weight:800; font-size:1.35rem; letter-spacing:.2px; text-decoration:none;
}
.brand em{ color:var(--brand); font-style:normal; }

/* desktop menu row */
.menu{
  display:flex; align-items:center; gap:8px;
}

/* top-level links */
.link{
  color:#fff; opacity:.9; padding:.5rem .75rem; border-radius:8px; text-decoration:none;
}
.link:hover{ opacity:1; background:rgba(255,255,255,.06); }

/* disabled state for desktop link */
.link.is-disabled{
  opacity:.45;
  cursor:not-allowed;
  pointer-events:auto; /* so onClick can preventDefault, but no nav */
}
.link.is-disabled:hover{
  background: transparent;
}

/* ---------- Dropdown (MEGA GRID) ---------- */
.dd{ position:relative; }
.dd-menu{
  position:absolute;
  top:100%;
  left:50%;
  transform: translateX(-50%);
  width: fit-content;
  background: rgba(16,26,42,.98);
  color:#fff;
  border:1px solid rgba(255,255,255,.10);
  border-radius:12px;
  box-shadow: 0 18px 36px rgba(0,0,0,.28);
  padding:12px;
  z-index:1200;
  display: none;
  grid-template-columns: repeat(3, minmax(200px, 1fr));
  gap:10px;
}
.dd.open > .dd-menu{ display: grid; }

/* Avoid hover-open all-at-once (no :hover rule) */

.dd-menu ul{ list-style:none; margin:0; padding:0; display:contents; }
.dd-menu li{ display:contents; }

.dd-menu a,
.dd-menu button{
  margin: 10px; width: fit-content;
  appearance:none; border:0; background:transparent;
  display:flex; align-items:center; gap:8px;
  padding:10px 12px;
  border-radius:10px;
  color:#fff; text-decoration:none; font-weight:800; font-size:13px;
  white-space:nowrap; opacity:.95;
  transition: background .15s ease, transform .12s ease, opacity .15s ease;
}
.dd-menu a:hover,
.dd-menu button:hover{
  background: rgba(255,255,255,.10);
  transform: translateY(-1px);
  opacity:1;
}

@media (min-width: 1200px){
  .dd-menu{ grid-template-columns: repeat(4, minmax(200px, 1fr)); }
}
@media (max-width: 860px){
  .dd-menu{ grid-template-columns: repeat(2, minmax(180px, 1fr)); }
}
@media (max-width: 560px){
  .dd-menu{
    left:0; transform:none; width:100vw;
    border-radius:0 0 12px 12px;
    grid-template-columns: 1fr;
  }
}

/* fit variant */
.dd--fit .dd-menu{
  grid-template-columns: repeat(2, minmax(200px, 1fr)) !important;
}

/* wide variant for long titles */
.dd--wide .dd-menu{
  width: min(100vw - 24px, 1140px);
  grid-template-columns: repeat(3, minmax(240px, 1fr));
  gap: 12px 14px;
}
@media (max-width: 1024px){
  .dd--wide .dd-menu{ grid-template-columns: repeat(2, minmax(220px, 1fr)); }
}
@media (max-width: 560px){
  .dd--wide .dd-menu{ grid-template-columns: 1fr; }
}
.dd--wide .dd-menu a,
.dd--wide .dd-menu button{
  white-space: normal;
  line-height: 1.25;
  align-items: flex-start;
  padding: 12px 14px;
}
.dd--wide .dd-menu a:hover,
.dd--wide .dd-menu button:hover{
  background: rgba(255,255,255,.08);
  transform: translateY(-1px);
}

/* ---------- right-side controls ---------- */
.right{
  display:flex; align-items:center; gap:8px;
}
.icon-btn{
  width:38px; height:38px; border:1px solid rgba(255,255,255,.28); border-radius:10px;
  display:inline-grid; place-items:center; color:#fff; background:transparent;
}
.cta{
  padding:.55rem 1rem; border-radius:999px;
}

/* ---------- Mobile drawer ---------- */
.drawer{ display:none; }
.burger{ display:none; }

@media (max-width: 992px){
  .menu{ display:none; }
  .burger{ display:inline-grid; }

  .drawer{
    display:block; position:fixed; inset:0 0 0 auto;
    width: min(86%, 360px);
    transform: translateX(100%);
    transition: transform 180ms cubic-bezier(.2,.8,.2,1);
    background:#0e1223; color:#fff; z-index:1500;
    box-shadow: -22px 0 44px rgba(0,0,0,.24);
    outline:none;
    height:100vh;              /* make the panel full-height */
    overflow:hidden;           /* header fixed, list scrolls */
  }
  .drawer.open{ transform: translateX(0); }

  .drawer .section{
    padding:16px; border-bottom:1px solid rgba(255,255,255,.08);
  }
  .drawer a{
    color:#fff; display:block; padding:10px 12px; border-radius:8px; text-decoration:none;
  }
  .drawer a:hover{ background: rgba(255,255,255,.08); }

  /* header row with close button */
  .drawer-header{
    display:flex; align-items:center; justify-content:space-between;
  }
  .drawer-close{
    border-color: rgba(255,255,255,.28);
    background: transparent;
  }

  /* scrollable list area (fills remaining height) */
  .drawer .section.list{
    padding:8px 12px 12px;
    border-bottom:none;
    height: calc(100vh - 72px - 72px); /* minus header and actions approx */
    overflow-y:auto;
    -webkit-overflow-scrolling: touch;
  }

  /* mobile items */
  .m-item{ margin-bottom:8px; }

  .m-link{
    color:#fff; display:block; padding:12px 12px; border-radius:10px; text-decoration:none;
    background:transparent;
  }
  .m-link:hover{ background: rgba(255,255,255,.08); }

  /* disabled look (mobile) */
  .m-link.is-disabled,
  .m-toggle.is-disabled{
    opacity:.45; cursor:not-allowed;
  }

  /* toggle for accordion parents */
  .m-toggle{
    width:100%;
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 12px;
    border-radius:10px;
    background:transparent; color:#fff; border:1px solid rgba(255,255,255,.16);
  }
  .m-toggle:not(.is-disabled):hover{ background: rgba(255,255,255,.08); }
  .m-toggle .chev{ transition: transform .16s ease; }
  .m-toggle .chev.open{ transform: rotate(180deg); }

  /* submenu */
  .m-sub{
    max-height:0; overflow:hidden;
    transition:max-height .22s ease;
    padding-left:8px;
  }
  .m-sub.open{
    max-height: 800px; /* enough to show items; animated */
  }
  .m-sublink{
    display:block; padding:10px 12px; margin:4px 0 0;
    border-radius:8px; opacity:.9; text-decoration:none; color:#fff;
  }
  .m-sublink:hover{ background: rgba(255,255,255,.08); opacity:1; }
}

/* ---------- Drawer overlay ---------- */
.drawer-overlay{ display:none; }
@media (max-width: 992px){
  .drawer-overlay{
    position: fixed; inset: 0;
    background: rgba(10,12,28,.55);
    backdrop-filter: blur(3px);
    z-index: 1490;
    display: none;
  }
  .drawer-overlay.open{ display:block; }
}

/* ---------- Search overlay ---------- */
.search-overlay{
  position: fixed; inset: 0;
  background: rgba(10,12,28,.75);
  backdrop-filter: blur(6px);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 16px;
  z-index: 1300;
}
.search-overlay.open{ display:flex; }
.search-card{
  width: min(800px, 96%);
  background:#fff; border-radius:16px; padding:16px;
}
.search-row{ display:flex; gap:8px; }
.search-row input{
  flex:1; padding:14px 12px; border-radius:10px; border:1px solid #e5e7eb; font-size:16px;
}

/* ---------- Helpers ---------- */
.sr-only{
  position:absolute !important; width:1px; height:1px;
  padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}
.notif-wrap { position: relative; }
.notif-btn { position: relative; display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; border-radius:10px; color:#fff; }
.notif-dot { position:absolute; top:6px; right:6px; width:8px; height:8px; border-radius:50%; background:#ef4444; }
.notif-dd { position:absolute; right:0; top:46px; width:320px; background:#fff; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.12); padding:8px; display:none; z-index:60; }
.notif-dd.open { display:block; }
.notif-head { display:flex; justify-content:space-between; padding:6px 8px; font-weight:800; color:#0f172a; }
.notif-empty { padding:14px 10px; color:#64748b; font-weight:700; }
.notif-list { list-style:none; margin:0; padding:0; }
.notif-item { border-radius:10px; overflow:hidden; }
.notif-item + .notif-item { margin-top:6px; }
.notif-item.is-read { opacity:.6; }
.notif-link { width:100%; text-align:left; padding:10px 12px; background:transparent; border:0; cursor:pointer; }
.notif-title { font-weight:800; color:#0f172a; }
.notif-body { color:#475569; margin-top:2px; font-weight:600; }
.notif-time { color:#94a3b8; font-size:12px; margin-top:6px; }


/* === B2B icon button with desktop-only tooltip === */
.icon-btn.b2b-btn{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px; height:36px;
  border-radius:10px;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.18);
  transition:transform .12s ease, background .12s ease, border-color .12s ease;
}
.icon-btn.b2b-btn:hover{
  transform:translateY(-1px);
  background:rgba(255,255,255,0.12);
  border-color:rgba(255,255,255,0.28);
}

/* tooltip (hidden by default) */
.icon-btn.b2b-btn .tt{
  position:absolute;
  left:50%;
  bottom:110%;
  transform:translate(-50%, 2px);
  background:#111827;            /* dark slate */
  color:#fff;
  font-size:12px;
  line-height:1;
  padding:8px 10px;
  border-radius:8px;
  box-shadow:0 8px 24px rgba(0,0,0,.25);
  white-space:nowrap;
  opacity:0;
  pointer-events:none;
  transition:opacity .12s ease, transform .12s ease;
}

/* desktop-only: show tooltip on hover with a little arrow */
@media (hover:hover) and (pointer:fine){
  .icon-btn.b2b-btn:hover .tt{
    opacity:1;
    transform:translate(-50%, 0);
  }
  .icon-btn.b2b-btn .tt::after{
    content:"";
    position:absolute;
    top:100%;
    left:50%;
    transform:translateX(-50%);
    width:0; height:0;
    border-left:6px solid transparent;
    border-right:6px solid transparent;
    border-top:6px solid #111827;
  }
}

/* respect your existing utility classes: ensure visibility only on lg+ */
.d-none{ display:none !important; }
@media (min-width: 992px){
  .d-lg-inline-flex{ display:inline-flex !important; }
  .d-lg-none{ display:none !important; }
}

/* optional: alternate style button for drawer */
.btn-brand.alt{
  background:transparent;
  color:inherit;
  border:1px solid currentColor;
}
.btn-brand.alt:hover{
  background:rgba(255,255,255,0.06);
}
